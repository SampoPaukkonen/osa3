(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(38)},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(11),c=n.n(u),o=n(12),i=n(2),l=n(3),m=n.n(l),s="http://localhost:3001/persons",d=function(e,t){return m.a.put("".concat(s,"/").concat(e),t).then(function(e){return e.data})},f=function(e){return m.a.post(s,e).then(function(e){return e.data})},g=function(e){return m.a.delete("".concat(s,"/").concat(e)).then(function(e){return e.data})},h=function(e){var t=e.person,n=e.group,u=e.setGroup,c=e.messager,o=Object(a.useState)(t),l=Object(i.a)(o,1)[0];return r.a.createElement("div",null,t.name," ",t.number,r.a.createElement("button",{type:"button",onClick:function(){var e="Poistetaanko ".concat(l.name,"?");window.confirm(e)&&(function(e,t,n){g(l.id).then(n(t.filter(function(t){return t.id!==e.id})))}(l,n,u),c("Henkil\xf6 ".concat(l.name," poistettu onnistuneesti")))}},"poista"))},b=function(e){var t=e.persons,n=e.setPersons,a=e.messager;return r.a.createElement("div",null,t.map(function(e){return r.a.createElement(h,{key:e.name,person:e,group:t,setGroup:n,messager:a})}))},v=function(e){var t=e.newName,n=e.handleNameChange;return r.a.createElement("div",null,"nimi: ",r.a.createElement("input",{value:t,onChange:n}))},p=function(e){var t=e.newNumber,n=e.handleNumberChange;return r.a.createElement("div",null,"numero: ",r.a.createElement("input",{value:t,onChange:n}))},E=function(e){var t=e.addContact,n=e.newName,a=e.handleNameChange,u=e.newNumber,c=e.handleNumberChange;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:t},r.a.createElement(v,{newName:n,handleNameChange:a}),r.a.createElement(p,{newNumber:u,handleNumberChange:c}),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4"))))},j=function(e){var t=e.targetName,n=e.handleTargetChange;return r.a.createElement("div",null,"rajaa n\xe4ytett\xe4vi\xe4: ",r.a.createElement("input",{value:t,onChange:n}))},N=function(e){var t=e.message;if(t)return r.a.createElement("div",{style:{color:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10}},t);return r.a.createElement("div",null)},w=function(e){var t=e.message;if(t)return r.a.createElement("div",{style:{color:"red",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10}},t);return r.a.createElement("div",null)},C=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],u=t[1];Object(a.useEffect)(function(){m.a.get("http://localhost:3001/api/persons").then(function(e){u(e.data)})},[]);var c=Object(a.useState)(""),l=Object(i.a)(c,2),s=l[0],g=l[1],h=Object(a.useState)(""),v=Object(i.a)(h,2),p=v[0],C=v[1],O=Object(a.useState)(""),k=Object(i.a)(O,2),y=k[0],S=k[1],H=Object(a.useState)(""),P=Object(i.a)(H,2),T=P[0],B=P[1],z=Object(a.useState)(""),G=Object(i.a)(z,2),J=G[0],R=G[1],x=function(e){R("".concat(e)),setTimeout(function(){R("")},3e3)};return r.a.createElement("div",null,r.a.createElement("h2",null,"Puhelinluettelo"),r.a.createElement(N,{message:J}),r.a.createElement(w,{message:T}),r.a.createElement(j,{targetName:y,handleTargetChange:function(e){S(e.target.value)}}),r.a.createElement("h2",null,"lis\xe4\xe4 uusi"),r.a.createElement(E,{addContact:function(e){if(e.preventDefault(),n.map(function(e){return e.name}).includes(s)){var t="".concat(s," on jo luettelossa, korvataanko vanha numero uudella?"),a=window.confirm(t),r=n.filter(function(e){return e.name===s})[0];if(a){var c=Object(o.a)({},r,{number:p});d(c.id,c).then(function(e){u(n.map(function(t){return t.id===r.id?e:t})),x("Henkil\xf6 ".concat(r.name," p\xe4ivitetty onnistuneesti"))}).catch(function(e){var t;t="Henkil\xf6 ".concat(r.name," oli jo poistettu"),B("".concat(t)),setTimeout(function(){R("")},3e3)})}}else f({name:s,number:p}).then(function(e){return u(n.concat(e))}),x("Henkil\xf6 ".concat(s," lis\xe4tty onnistunesti")),g(""),C("")},newName:s,handleNameChange:function(e){g(e.target.value)},newNumber:p,handleNumberChange:function(e){C(e.target.value)}}),r.a.createElement("h2",null,"Numerot"),r.a.createElement(b,{persons:function(e){return e?n.filter(function(t){return t.name.includes(e)}):n}(y),setPersons:u,messager:x}))};c.a.render(r.a.createElement(C,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.ac9909d4.chunk.js.map